{"version":3,"file":"src_app_pages_push-notification_push-notification_module_ts.js","mappings":"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","sources":["./src/app/pages/push-notification/push-notification-routing.module.ts","./src/app/pages/push-notification/push-notification.module.ts","./src/app/pages/push-notification/push-notification.page.ts","./src/app/pages/push-notification/push-notification.page.scss"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { PushNotificationPage } from './push-notification.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PushNotificationPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class PushNotificationPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { PushNotificationPageRoutingModule } from './push-notification-routing.module';\n\nimport { PushNotificationPage } from './push-notification.page';\nimport { Badge } from '@awesome-cordova-plugins/badge/ngx';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    PushNotificationPageRoutingModule\n  ],\n  declarations: [PushNotificationPage],\n  providers: [Badge]\n})\nexport class PushNotificationPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ModalController, Platform } from '@ionic/angular';\nimport { CommonService } from 'src/app/providers/common.service';\nimport { ConstantService } from 'src/app/providers/constant.service';\nimport { CoreService } from 'src/app/providers/core.service';\nimport { DataService } from 'src/app/providers/data.service';\nimport { Badge } from '@awesome-cordova-plugins/badge/ngx';\n\n@Component({\n  selector: 'app-push-notification',\n  templateUrl: './push-notification.page.html',\n  styleUrls: ['./push-notification.page.scss'],\n})\nexport class PushNotificationPage implements OnInit {\n\n  userId: any;\n  notificationContentData: any;\n  badgeCount :number = 0;\n\n  constructor(\n    public modalCtrl: ModalController,\n    private coreService: CoreService,\n    private apiService: DataService,\n    private constantService: ConstantService,\n    private router: Router,\n    private commonService: CommonService,\n    private badge: Badge,\n    private platform: Platform,\n  ) {}\n\n  ngOnInit() {\n    this.getNotificationData();\n    this.getNotificationCount();\n    this.viewAllNotification();\n    this.resetBadgesCount();\n  }\n\n\n  getNotificationCount() {\n    let request: any = {\n      path: \"notification/notification/check/v2\",\n      isAuth: true,\n    };\n      this.apiService.get(request).subscribe((response: any) => {\n        this.badgeCount = response.data.unreadCount;\n        console.log(\"c \",this.badgeCount)\n        return this.badgeCount;\n      });\n  }\n\n  async resetBadgesCount() {\n    if(this.platform.is(\"desktop\") || this.platform.is(\"mobileweb\")) {\n      console.log(\"web\")\n      return;\n    } else {\n       await this.badge.clear();\n    }\n  }\n\n  async getNotificationData() {\n    let userData = await this.coreService.getUserDataFromStorage();\n    this.userId = userData.id;\n    await this.getPushNotification();\n  }\n\n  getPushNotification() {\n    let request: any = {\n      path: \"notification/notification/view/getAll\",\n\n     data : {\n        \"filter\": {\n          \"userId\": this.userId\n        },\n        \"page\": {\n          \"pageLimit\": 20,\n          \"pageNumber\": 0\n        },\n        \"sort\": {\n          \"orderBy\": \"DESC\",\n          \"sortBy\": \"SENT_DATE\"\n        }\n      },\n      isAuth: true,\n    };\n    this.coreService.presentLoader(this.constantService.WAIT);\n    this.apiService.post(request).subscribe((response: Response) => {\n      this.coreService.dismissLoader();\n      if (response[\"status\"][\"code\"] === this.constantService.STATUS_OK) {\n        this.notificationContentData = response['data']['content'];\n      } else {\n        this.coreService.showToastMessage(\n          response.status['description'],\n          this.coreService.TOAST_ERROR\n        );\n      }\n    });\n  }\n\n  viewedNotification(id:string) {\n    let request: any = {\n      path: `notification/notification/view?id=`+id, \n      isAuth: true,\n    };\n    this.apiService.get(request).subscribe((response: Response) => {\n      if (response[\"status\"][\"code\"] === \"OK\") {\n      } else {\n      }\n    });\n  }\n\n\n  viewAllNotification() {\n    let request: any = {\n      path: `notification/notification/view?viewAll=true`, \n      isAuth: true,\n    };\n    this.apiService.get(request).subscribe((response: Response) => {\n      if (response[\"status\"][\"code\"] === \"OK\") {\n        console.log(\"cleared\")\n      } else {\n      }\n    });\n  }\n\n}\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"ion-content {\\n  --background:transparent;\\n}\\nion-content .notification-main {\\n  padding: 5px;\\n  padding-bottom: 1px;\\n  background: var(--theme-one-clr);\\n  border-radius: 10px;\\n  overflow: auto;\\n  max-height: calc(100vh - 110px);\\n}\\nion-content .notification-main .data-part {\\n  margin-bottom: 5px;\\n  background: var(--white-bg);\\n  text-align: left;\\n  padding: 15px 20px;\\n  border-radius: 10px;\\n}\\nion-content .notification-main .data-part h5 {\\n  font-size: 1rem;\\n  color: var(--theme-one-clr);\\n  margin: 0 0 3px;\\n  font-weight: 500;\\n  text-transform: capitalize;\\n}\\nion-content .notification-main .data-part p {\\n  font-size: 0.875rem;\\n  color: var(--text-black);\\n  margin: 0;\\n  font-weight: 400;\\n}\\nion-content .notification-main .data-part p span {\\n  font-weight: 600;\\n}\\nion-content .notification-main .data-part p u {\\n  text-decoration: underline;\\n}\\nion-content .notification-main .data-part ion-col {\\n  margin: 0;\\n  padding: 0;\\n}\\nion-content .notification-main .data-part .date-time {\\n  text-align: right;\\n  padding-left: 5px;\\n}\\nion-content .notification-main .data-part .date-time p {\\n  font-size: 0.75rem;\\n  color: var(--text-black);\\n  margin: 0;\\n  font-weight: 400;\\n  opacity: 0.9;\\n}\\nion-content .notification-main .data-part .date-time p span {\\n  font-weight: 600;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/pages/push-notification/push-notification.page.scss\"],\"names\":[],\"mappings\":\"AAAA;EAAY,wBAAA;AAEZ;AADI;EAAmB,YAAA;EAAc,mBAAA;EAC7B,gCAAA;EACA,mBAAA;EACA,cAAA;EACA,+BAAA;AAKR;AAJQ;EAAW,kBAAA;EACP,2BAAA;EAA6B,gBAAA;EAC7B,kBAAA;EACA,mBAAA;AAQZ;AAPY;EAAG,eAAA;EAAiB,2BAAA;EAA6B,eAAA;EAAiB,gBAAA;EAAkB,0BAAA;AAchG;AAbY;EAAE,mBAAA;EAAqB,wBAAA;EAA0B,SAAA;EAAW,gBAAA;AAmBxE;AAlBc;EAAK,gBAAA;AAqBnB;AApBc;EAAE,0BAAA;AAuBhB;AArBY;EAAQ,SAAA;EAAW,UAAA;AAyB/B;AAxBY;EAAW,iBAAA;EAAmB,iBAAA;AA4B1C;AA3Bc;EAAE,kBAAA;EAAoB,wBAAA;EAA0B,SAAA;EAAW,gBAAA;EAAkB,YAAA;AAkC3F;AAjCgB;EAAK,gBAAA;AAoCrB\",\"sourcesContent\":[\"ion-content {\\n  --background:transparent;\\n}\\nion-content .notification-main {\\n  padding: 5px;\\n  padding-bottom: 1px;\\n  background: var(--theme-one-clr);\\n  border-radius: 10px;\\n  overflow: auto;\\n  max-height: calc(100vh - 110px);\\n}\\nion-content .notification-main .data-part {\\n  margin-bottom: 5px;\\n  background: var(--white-bg);\\n  text-align: left;\\n  padding: 15px 20px;\\n  border-radius: 10px;\\n}\\nion-content .notification-main .data-part h5 {\\n  font-size: 1rem;\\n  color: var(--theme-one-clr);\\n  margin: 0 0 3px;\\n  font-weight: 500;\\n  text-transform: capitalize;\\n}\\nion-content .notification-main .data-part p {\\n  font-size: 0.875rem;\\n  color: var(--text-black);\\n  margin: 0;\\n  font-weight: 400;\\n}\\nion-content .notification-main .data-part p span {\\n  font-weight: 600;\\n}\\nion-content .notification-main .data-part p u {\\n  text-decoration: underline;\\n}\\nion-content .notification-main .data-part ion-col {\\n  margin: 0;\\n  padding: 0;\\n}\\nion-content .notification-main .data-part .date-time {\\n  text-align: right;\\n  padding-left: 5px;\\n}\\nion-content .notification-main .data-part .date-time p {\\n  font-size: 0.75rem;\\n  color: var(--text-black);\\n  margin: 0;\\n  font-weight: 400;\\n  opacity: 0.9;\\n}\\nion-content .notification-main .data-part .date-time p span {\\n  font-weight: 600;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n"],"names":["NgModule","RouterModule","PushNotificationPage","routes","path","component","PushNotificationPageRoutingModule","imports","forChild","exports","CommonModule","FormsModule","IonicModule","Badge","PushNotificationPageModule","declarations","providers","Component","Router","ModalController","Platform","CommonService","ConstantService","CoreService","DataService","constructor","modalCtrl","coreService","apiService","constantService","router","commonService","badge","platform","ngOnInit","getNotificationData","getNotificationCount","viewAllNotification","resetBadgesCount","request","isAuth","get","subscribe","response","badgeCount","data","unreadCount","console","log","is","clear","userData","getUserDataFromStorage","userId","id","getPushNotification","presentLoader","WAIT","post","dismissLoader","STATUS_OK","notificationContentData","showToastMessage","status","TOAST_ERROR","viewedNotification","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}